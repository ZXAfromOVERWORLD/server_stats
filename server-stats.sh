#!/bin/bash

COUNT=5

echo -e "\n================================================"
top -bn1 | grep "%Cpu(s):" | awk '{print " Total CPU usage " $2}'
echo "================================================"


echo -e "\n================================================"
echo "Total Memory Usage"
echo "================================================"
free | grep "Mem:" -w | awk '{printf "Total Memory used: %.1fGb \nTotal Free Memory: %.1fGb (%.2f%%)\nTotal Used Memory: %.1fGb (%.2f%%)\n" ,$2/1024^2 ,$4/1024^2 , $4/$2 * 100 , $3/1024^2 , $3/$2 * 100 }'
echo "================================================"



echo -e "\n================================================"
echo "Total Disk Usage"
echo "================================================"
df -h | grep "/" -w | awk '{printf "Total: %.1f \nUsed: %.1fG (%.2f%%) \nFree: %.1f (%.2f%%)\n", $3+$4, $3, $3/($3+$4) * 100, $4 , $4/($3+$4) * 100 }'
echo "================================================"


echo -e "\n================================================"
echo "Top 5 processes by CPU usage"
echo "================================================"
ps -eo pid,ppid,cmd,%cpu,%mem --sort=-%cpu | head -6
echo "================================================"

echo -e "\n================================================"
echo "Top 5 Processes by Memory Usage"
echo "================================================"
ps -eo pid,ppid,cmd,%cpu,%mem --sort=-%mem | head -6
echo "================================================"


